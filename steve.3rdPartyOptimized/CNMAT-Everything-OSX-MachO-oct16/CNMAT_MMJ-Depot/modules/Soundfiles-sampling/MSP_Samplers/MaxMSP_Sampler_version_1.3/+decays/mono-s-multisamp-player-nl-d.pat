max v2;#N vpatcher 119 145 564 622;#N comlet Decay params (L time \, L shape \, R time \, R shape);#P inlet 319 100 15 0;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P newex 149 357 55 196617 print listtt;#P newex 149 325 179 196617 zl join;#N comlet Right Output (signal);#P outlet 92 420 15 0;#N comlet Left Output (signal);#P outlet 17 419 15 0;#N comlet Bang when note is done;#P outlet 167 418 15 0;#P window linecount 2;#P comment 253 374 157 196617 mono-s-multisample-player-nl-d version 1. \, by Matt Wright;#P window linecount 1;#N vpatcher 50 40 415 386;#P window setfont "Sans Serif" 9.;#P comment 39 180 307 196617 IN NO EVENT SHALL REGENTS BE LIABLE TO ANY PARTY FOR DIRECT \, INDIRECT \, SPECIAL \, INCIDENTAL \, OR CONSEQUENTIAL DAMAGES \, INCLUDING LOST PROFITS \, ARISING OUT OF THE USE OF THIS SOFTWARE AND ITS DOCUMENTATION \, EVEN IF REGENTS HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.;#P comment 39 244 307 196617 REGENTS SPECIFICALLY DISCLAIMS ANY WARRANTIES \, INCLUDING \, BUT NOT LIMITED TO \, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. THE SOFTWARE AND ACCOMPANYING DOCUMENTATION \, IF ANY \, PROVIDED HEREUNDER IS PROVIDED "AS IS." REGENTS HAS NO OBLIGATION TO PROVIDE MAINTENANCE \, SUPPORT \, UPDATES \, ENHANCEMENTS \, OR MODIFICATIONS.;#P comment 6 151 340 196617 Written by Matt Wright \, The Center for New Music and Audio Technologies \, University of California \, Berkeley.;#P comment 5 26 341 196617 Copyright (c) 1998. The Regents of the University of California (Regents). All Rights Reserved.;#P comment 6 53 340 196617 Permission to use \, copy \, modify \, and distribute this software and its documentation for educational \, research \, and not-for-profit purposes \, without fee and without a signed licensing agreement \, is hereby granted \, provided that the above copyright notice \, this paragraph and the following two paragraphs appear in all copies \, modifications \, and distributions. Contact The Office of Technology Licensing \, UC Berkeley \, 2150 Shattuck Avenue \, Suite 510 \, Berkeley \, CA 94720-1620 \, (510) 643-7201 \, for commercial licensing opportunities.;#P pop;#P newobj 292 403 59 196617 p copyright;#N comlet Envelope for note-on (curve~ style);#P inlet 77 364 15 0;#P message 206 211 31 196617 clear;#P newex 149 305 97 196617 pack s f f;#P newex 149 282 53 196617 unpack s f;#P newex 34 181 40 196617 t i b f;#N comlet Bang to stop note;#P inlet 47 364 15 0;#N comlet Start note by giving center pitch and decay params;#P inlet 34 136 15 0;#P newex 17 394 126 196617 mono-sample-player-nl-d;#N coll ;#P newobj 135 136 40 196617 coll;#P message 135 108 31 196617 dump;#P newex 173 102 70 196617 prepend refer;#N coll ;#P newobj 149 261 40 196617 coll;#P newex 135 160 58 196617 unpack s i i;#P newex 149 213 40 196617 pack i i;#N funbuff 0;#P newobj 149 238 40 196617 funbuff;#P newex 158 77 40 196617 t b s b;#N comlet Instrument to use (name of coll);#P inlet 158 56 15 0;#P window linecount 7;#P comment 276 215 111 196617 This funbuff tells us which sample to use for a given desired center pitch. Its X values are pitches and its Y values are coll indices.;#P window linecount 9;#P comment 13 18 101 196617 The whole point of this patch is to figure out which sample of a multisample to use \, and then get mono-sample-player-noloop to do the work.;#P user panel 244 356 185 83;#X brgb 255 255 255;#X frgb 0 0 255;#X border 4;#X rounded 40;#X shadow 0;#X done;#P fasten 25 0 12 0 154 347 22 347;#P connect 12 0 23 0;#P connect 13 0 15 0;#P connect 14 0 12 1;#P connect 12 1 24 0;#P connect 19 0 12 2;#P connect 4 0 10 0;#P connect 9 0 11 0;#P connect 10 0 11 0;#P connect 11 0 7 0;#P connect 7 2 6 0;#P connect 18 0 5 0;#P fasten 15 0 5 0 39 231 154 231;#P connect 6 0 5 0;#P fasten 9 0 8 0 178 133 199 133 199 258 154 258;#P connect 5 0 8 0;#P connect 8 0 16 0;#P connect 16 0 17 0;#P connect 17 0 25 0;#P connect 25 0 26 0;#P connect 3 0 4 0;#P connect 12 2 22 0;#P connect 4 1 9 0;#P connect 11 1 6 1;#P connect 16 1 17 1;#P fasten 4 2 18 0 193 98 250 98 250 188 211 188;#P fasten 15 2 17 2 69 202 270 202 270 301 240 301;#P connect 27 0 25 1;#P pop;