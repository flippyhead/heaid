max v2;#N vpatcher 325 176 631 542;#P comment 143 300 132 196617 mono-multisample-player version 1.2 \, by Matt Wright;#N vpatcher 50 40 415 386;#P comment 39 180 307 196617 IN NO EVENT SHALL REGENTS BE LIABLE TO ANY PARTY FOR DIRECT \, INDIRECT \, SPECIAL \, INCIDENTAL \, OR CONSEQUENTIAL DAMAGES \, INCLUDING LOST PROFITS \, ARISING OUT OF THE USE OF THIS SOFTWARE AND ITS DOCUMENTATION \, EVEN IF REGENTS HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.;#P comment 39 244 307 196617 REGENTS SPECIFICALLY DISCLAIMS ANY WARRANTIES \, INCLUDING \, BUT NOT LIMITED TO \, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. THE SOFTWARE AND ACCOMPANYING DOCUMENTATION \, IF ANY \, PROVIDED HEREUNDER IS PROVIDED "AS IS". REGENTS HAS NO OBLIGATION TO PROVIDE MAINTENANCE \, SUPPORT \, UPDATES \, ENHANCEMENTS \, OR MODIFICATIONS.;#P comment 6 151 340 196617 Written by Matt Wright \, The Center for New Music and Audio Technologies \, University of California \, Berkeley.;#P comment 5 26 341 196617 Copyright (c) 1998. The Regents of the University of California (Regents). All Rights Reserved.;#P comment 6 53 340 196617 Permission to use \, copy \, modify \, and distribute this software and its documentation for educational \, research \, and not-for-profit purposes \, without fee and without a signed licensing agreement \, is hereby granted \, provided that the above copyright notice \, this paragraph and the following two paragraphs appear in all copies \, modifications \, and distributions. Contact The Office of Technology Licensing \, UC Berkeley \, 2150 Shattuck Avenue \, Suite 510 \, Berkeley \, CA 94720-1620 \, (510) 643-7201 \, for commercial licensing opportunities.;#P pop;#P newobj 145 325 59 196617 p copyright;#N comlet Envelope for note-on (line~ style);#P inlet 67 266 15 0;#P message 195 160 31 196617 clear;#N comlet Output (signal);#P outlet 7 316 15 0;#P newex 139 249 43 196617 pack s f;#P newex 139 228 53 196617 unpack s f;#P newex 97 249 27 196617 + 0.;#P newex 22 145 40 196617 t i b f;#N comlet Bang to stop note;#P inlet 37 266 15 0;#N comlet Pitch "bend" offset amount (float # semitones);#P inlet 97 219 15 0;#N comlet Start note by giving center pitch;#P inlet 22 127 15 0;#P newex 7 296 101 196617 mono-sample-player;#N coll ;#P newobj 125 104 40 196617 coll;#P message 125 76 31 196617 dump;#P newex 163 70 70 196617 prepend refer;#N coll ;#P newobj 139 208 40 196617 coll;#P newex 125 128 58 196617 unpack s i i;#P newex 139 160 40 196617 pack i i;#N funbuff 0;#P newobj 139 185 40 196617 funbuff;#P newex 148 45 40 196617 t b s b;#N comlet Instrument to use (name of coll);#P inlet 148 24 15 0;#P comment 193 180 87 196617 This funbuff tells us which sample to use for a given desired center pitch. Its X values are pitches and its Y values are coll indices.;#P comment 18 33 101 196617 The whole point of this patch is to figure out which sample of a multisample to use \, and then get mono-sample-player to do the work.;#P connect 21 0 11 2;#P connect 20 0 4 0;#P connect 17 0 18 0;#P connect 17 1 18 1;#P connect 16 0 11 3;#P connect 15 2 16 1;#P fasten 18 0 11 0 144 291 12 291;#P fasten 15 0 4 0 27 180 144 180;#P connect 15 1 16 0;#P connect 14 0 11 1;#P connect 13 0 16 0;#P connect 12 0 15 0;#P connect 11 0 19 0;#P connect 10 0 6 0;#P connect 10 1 5 1;#P connect 9 0 10 0;#P connect 8 0 10 0;#P fasten 8 0 7 0 168 101 189 101 189 204 144 204;#P connect 7 0 17 0;#P connect 5 0 4 0;#P connect 6 2 5 0;#P connect 4 0 7 0;#P connect 3 0 9 0;#P fasten 3 2 20 0 183 66 240 66 240 156 200 156;#P connect 3 1 8 0;#P connect 2 0 3 0;#P pop;