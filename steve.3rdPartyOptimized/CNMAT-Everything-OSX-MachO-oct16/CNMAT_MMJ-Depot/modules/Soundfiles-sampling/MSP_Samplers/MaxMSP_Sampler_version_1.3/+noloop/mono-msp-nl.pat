max v2;#N vpatcher 325 176 770 653;#N comlet Bang when note is done;#P outlet 130 337 15 0;#P window setfont "Sans Serif" 9.;#P comment 180 379 162 196617 mono-multisample-player-noloop \; version 1.2 \, by Matt Wright;#N vpatcher 50 40 415 386;#P window setfont "Sans Serif" 9.;#P comment 39 180 307 196617 IN NO EVENT SHALL REGENTS BE LIABLE TO ANY PARTY FOR DIRECT \, INDIRECT \, SPECIAL \, INCIDENTAL \, OR CONSEQUENTIAL DAMAGES \, INCLUDING LOST PROFITS \, ARISING OUT OF THE USE OF THIS SOFTWARE AND ITS DOCUMENTATION \, EVEN IF REGENTS HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.;#P comment 39 244 307 196617 REGENTS SPECIFICALLY DISCLAIMS ANY WARRANTIES \, INCLUDING \, BUT NOT LIMITED TO \, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. THE SOFTWARE AND ACCOMPANYING DOCUMENTATION \, IF ANY \, PROVIDED HEREUNDER IS PROVIDED "AS IS." REGENTS HAS NO OBLIGATION TO PROVIDE MAINTENANCE \, SUPPORT \, UPDATES \, ENHANCEMENTS \, OR MODIFICATIONS.;#P comment 6 151 340 196617 Written by Matt Wright \, The Center for New Music and Audio Technologies \, University of California \, Berkeley.;#P comment 5 26 341 196617 Copyright (c) 1998. The Regents of the University of California (Regents). All Rights Reserved.;#P comment 6 53 340 196617 Permission to use \, copy \, modify \, and distribute this software and its documentation for educational \, research \, and not-for-profit purposes \, without fee and without a signed licensing agreement \, is hereby granted \, provided that the above copyright notice \, this paragraph and the following two paragraphs appear in all copies \, modifications \, and distributions. Contact The Office of Technology Licensing \, UC Berkeley \, 2150 Shattuck Avenue \, Suite 510 \, Berkeley \, CA 94720-1620 \, (510) 643-7201 \, for commercial licensing opportunities.;#P pop;#P newobj 225 412 59 196617 p copyright;#N comlet Envelope for note-on (line~ style);#P inlet 96 285 15 0;#P message 196 179 31 196617 clear;#N comlet Output (signal);#P outlet 7 337 15 0;#P newex 139 273 97 196617 pack s f f;#P newex 139 249 53 196617 unpack s f;#P newex 22 145 40 196617 t i b f;#N comlet Bang to stop note;#P inlet 69 287 15 0;#N comlet Start note by giving center pitch;#P inlet 22 127 15 0;#P newex 7 317 134 196617 mono-sample-player-noloop;#N coll ;#P newobj 125 104 40 196617 coll;#P message 125 76 31 196617 dump;#P newex 163 70 70 196617 prepend refer;#N coll ;#P newobj 139 229 40 196617 coll;#P newex 125 128 58 196617 unpack s i i;#P newex 139 181 40 196617 pack i i;#N funbuff 0;#P newobj 139 206 40 196617 funbuff;#P newex 148 45 40 196617 t b s b;#N comlet Instrument to use (name of coll);#P inlet 148 24 15 0;#P comment 279 178 111 196617 This funbuff tells us which sample to use for a given desired center pitch. Its X values are pitches and its Y values are coll indices.;#P comment 8 3 101 196617 The whole point of this patch is to figure out which sample of a multisample to use \, and then get mono-sample-player-noloop to do the work.;#P user panel 172 365 185 83;#X brgb 255 255 255;#X frgb 0 0 255;#X border 4;#X rounded 40;#X shadow 0;#X done;#P fasten 17 0 12 0 144 312 12 312;#P connect 12 0 18 0;#P connect 13 0 15 0;#P connect 14 0 12 1;#P connect 4 0 10 0;#P connect 9 0 11 0;#P connect 10 0 11 0;#P connect 11 0 7 0;#P connect 12 1 23 0;#P connect 20 0 12 2;#P connect 7 2 6 0;#P connect 19 0 5 0;#P fasten 15 0 5 0 27 199 144 199;#P connect 6 0 5 0;#P connect 5 0 8 0;#P fasten 9 0 8 0 168 101 189 101 189 226 144 226;#P connect 8 0 16 0;#P connect 16 0 17 0;#P connect 3 0 4 0;#P connect 4 1 9 0;#P connect 11 1 6 1;#P connect 16 1 17 1;#P fasten 4 2 19 0 183 66 240 66 240 156 201 156;#P fasten 15 2 17 2 57 170 260 170 260 269 230 269;#P pop;