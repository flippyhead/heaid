max v2;#N vpatcher 1 50 1281 773;#P origin 67 0;#P window setfont "Sans Serif" 12.;#P user com 1223 226 13 196620 3;#K set 0 24077 24077 24064;#K end;#B color 14;#P user com 1223 326 13 196620 3;#K set 0 24077 24077 24064;#K end;#B color 14;#P comment 1105 502 41 196620 > > >;#B color 14;#P comment 1004 502 41 196620 > > >;#B color 14;#P user com 1223 440 13 196620 3;#K set 0 24077 24077 24064;#K end;#B color 14;#P comment 896 502 41 196620 > > >;#B color 14;#P comment 891 454 181 196620 line~ sends out a bang here when it finishes its envelope;#B color 14;#P button 855 454 35 14;#P comment 1070 177 181 196620 "I'm not busy and I'm mute.";#B color 14;#P comment 1066 88 181 196620 "I'm busy and I'm not mute.";#B color 14;#P window setfont "Sans Serif" 18.;#P message 1093 199 95 196626 0 \, mute 1;#P message 1056 107 95 196626 1 \, mute 0;#P newex 1056 257 90 196626 thispoly~;#B color 14;#P comment 119 54 833 196626 bang sets the busy and mute state \, then the list makes the instrument do its thing;#B color 14;#P newex 74 58 44 196626 t l b;#P comment 255 656 732 196626 ¥ messages to "thispoly~" to handle mute and busy state.;#B color 14;#P comment 255 629 732 196626 ¥ Special outlets for use inside of poly~;#B color 14;#P comment 116 23 234 196626 <-- inlet for use in poly~;#B color 14;#P newex 74 19 41 196626 in 1;#B color 14;#P newex 142 518 68 196626 out~ 1;#B color 14;#P window setfont "Sans Serif" 9.;#N vpatcher 40 55 335 299;#N comlet Time stretch factor;#P inlet 243 32 15 0;#P window setfont "Sans Serif" 18.;#P newex 36 152 113 196626 interleave 2;#P newex 161 107 92 196626 Lmult 1.;#P newex 36 58 135 196626 deinterleave 2;#N comlet Output envelope;#P outlet 36 190 15 0;#N comlet Input envelope;#P inlet 36 32 15 0;#P connect 0 0 2 0;#P connect 2 0 4 0;#P connect 4 0 1 0;#P connect 3 0 4 1;#P connect 2 1 3 0;#P connect 5 0 3 1;#P pop;#P newobj 823 331 145 196617 p env-stretcher;#P newex 823 377 44 196617 t l 0;#N coll envelopes.coll;#P newobj 823 274 168 196617 coll envelopes.coll;#P outlet 112 529 15 0;#P newex 823 427 42 196617 line~;#P window setfont "Sans Serif" 14.;#P newex 130 183 34 196622 * 0.;#P window setfont "Sans Serif" 9.;#P comment 73 98 32 196617 slope;#P comment 221 98 468 196617 the third through tenth list elements are frequency ratios \, multiplied by the fundamental frequency.;#P window setfont "Sans Serif" 14.;#P comment 774 352 35 196622 s^7;#P comment 686 352 35 196622 s^6;#P comment 600 352 35 196622 s^5;#P comment 513 350 35 196622 s^4;#P comment 425 350 35 196622 s^3;#P comment 338 349 35 196622 s^2;#P newex 739 352 34 196622 * 0.;#P newex 652 351 34 196622 * 0.;#P newex 565 350 34 196622 * 0.;#P newex 478 349 34 196622 * 0.;#P newex 391 348 34 196622 * 0.;#P newex 304 349 34 196622 * 0.;#P newex 217 274 27 196622 f;#P window setfont "Sans Serif" 9.;#P newex 130 483 703 196617 *~;#P window setfont "Sans Serif" 14.;#P newex 722 184 34 196622 * 0.;#P newex 722 395 27 196622 *~;#P newex 722 211 55 196622 cycle~;#P newex 635 184 34 196622 * 0.;#P newex 635 395 27 196622 *~;#P newex 635 211 55 196622 cycle~;#P newex 548 184 34 196622 * 0.;#P newex 548 395 27 196622 *~;#P newex 548 211 55 196622 cycle~;#P newex 461 184 34 196622 * 0.;#P newex 461 395 27 196622 *~;#P newex 461 211 55 196622 cycle~;#P newex 374 184 34 196622 * 0.;#P newex 374 395 27 196622 *~;#P newex 374 211 55 196622 cycle~;#P newex 287 184 34 196622 * 0.;#P newex 200 185 34 196622 * 0.;#P newex 287 395 27 196622 *~;#P newex 287 211 55 196622 cycle~;#P newex 200 395 27 196622 *~;#P newex 53 111 866 196622 unpack f f f f f f f f f f s f;#N comlet list (slope \, base freq \, 8 ratios);#P inlet 53 25 15 0;#P newex 200 211 55 196622 cycle~;#P newex 130 211 55 196622 cycle~;#P comment 224 253 72 196622 s (slope);#P window setfont "Sans Serif" 9.;#P comment 106 98 111 196617 fundamental frequency;#P comment 3 258 123 196617 The amplitudes of each partial are s^n \, where 'n' \, where 'n' is the partial number. The first one is s^0 \, or 1 \, so we don't need to multiply anything. The second one is s^1 \, so we just multiply the signal by the slope. The others are s^2...s^7.;#P window setfont "Sans Serif" 18.;#P comment 223 601 732 196626 This is just like the instrument in part 2 \, except two things:;#B color 14;#P user panel 208 588 635 111;#X brgb 255 255 255;#X frgb 213 9 255;#X border 5;#X rounded 40;#X shadow 0;#X done;#P comment 210 521 234 196626 <-- outlet for use in poly~;#B color 14;#P connect 57 0 9 0;#P connect 8 0 9 0;#P connect 53 0 57 0;#P connect 30 0 48 0;#P connect 9 1 46 0;#P connect 46 0 6 0;#P connect 28 0 30 0;#P connect 25 0 30 0;#P connect 22 0 30 0;#P connect 19 0 30 0;#P connect 16 0 30 0;#P connect 12 0 30 0;#P connect 10 0 30 0;#P connect 6 0 30 0;#P connect 30 0 52 0;#P connect 9 2 46 1;#P connect 9 1 13 0;#P connect 13 0 7 0;#P connect 7 0 10 0;#P fasten 9 0 31 0 58 249 222 249;#P connect 31 0 10 1;#P connect 9 3 13 1;#P connect 9 1 14 0;#P connect 14 0 11 0;#P connect 11 0 12 0;#P connect 31 0 32 0;#P connect 32 0 12 1;#P connect 9 4 14 1;#P connect 31 0 32 1;#P connect 9 1 17 0;#P connect 17 0 15 0;#P connect 15 0 16 0;#P fasten 32 0 33 0 309 373 377 373 377 344 396 344;#P connect 33 0 16 1;#P connect 9 5 17 1;#P connect 31 0 33 1;#P connect 9 1 20 0;#P connect 20 0 18 0;#P connect 18 0 19 0;#P fasten 33 0 34 0 396 373 464 373 464 346 483 346;#P connect 34 0 19 1;#P connect 9 6 20 1;#P connect 31 0 34 1;#P connect 9 1 23 0;#P connect 23 0 21 0;#P connect 21 0 22 0;#P fasten 34 0 35 0 483 374 554 374 554 348 570 348;#P connect 35 0 22 1;#P connect 9 7 23 1;#P connect 31 0 35 1;#P connect 9 1 26 0;#P connect 26 0 24 0;#P connect 24 0 25 0;#P fasten 35 0 36 0 570 374 643 374 643 349 657 349;#P connect 36 0 25 1;#P connect 9 8 26 1;#P connect 31 0 36 1;#P connect 9 1 29 0;#P connect 29 0 27 0;#P connect 27 0 28 0;#P fasten 36 0 37 0 657 374 731 374 731 349 744 349;#P connect 37 0 28 1;#P connect 9 9 29 1;#P connect 31 0 37 1;#P connect 9 10 49 0;#P connect 49 0 51 0;#P connect 51 0 50 0;#P connect 50 0 47 0;#P connect 50 1 47 0;#P connect 47 0 30 1;#P connect 47 1 64 0;#P fasten 9 11 51 1 905 231 1038 231 1038 323 963 323;#P fasten 57 1 60 0 113 91 1061 91;#P lcolor 15;#P connect 61 0 59 0;#P lcolor 15;#P connect 60 0 59 0;#P lcolor 15;#P fasten 64 0 61 0 860 499 1219 499 1219 195 1098 195;#P lcolor 15;#P pop;